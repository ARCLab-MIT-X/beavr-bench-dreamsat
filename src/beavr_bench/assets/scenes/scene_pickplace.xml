<mujoco model="table_scene">
  <compiler meshdir="meshes" angle="radian"/>

  <size nkey="1"/>

  <visual>
    <global offwidth="2560" offheight="1440"/>
  </visual>

  <statistic extent="1.721" center="-0.1393 0 0.4"/>

  <default>
    <default class="arm_xarm7_right_main">
      <default class="arm_xarm7_right_xarm7">
        <joint range="-6.28319 6.28319" armature="0.1" frictionloss="1"/>
        <geom type="mesh" material="white"/>
        <site size="0.001 0.005 0.005" group="4" rgba="1 0 0 1"/>
        <general ctrlrange="-6.28319 6.28319" biastype="affine"/>
        <default class="arm_xarm7_right_size1">
          <joint damping="10"/>
          <general forcerange="-50 50" gainprm="1500" biasprm="0 -1500 -150"/>
        </default>
        <default class="arm_xarm7_right_size2">
          <joint damping="5"/>
          <general forcerange="-30 30" gainprm="1000" biasprm="0 -1000 -100"/>
        </default>
        <default class="arm_xarm7_right_size3">
          <joint damping="2"/>
          <general forcerange="-20 20" gainprm="800" biasprm="0 -800 -80"/>
        </default>
      </default>
    </default>
    <default class="gripper_xarm7_right_main">
      <default class="gripper_xarm7_right_xarm7_hand">
        <joint range="0 0.85" armature="0.1" frictionloss="1"/>
        <geom type="mesh" material="black"/>
        <site size="0.001 0.005 0.005" group="4" rgba="1 0 0 1"/>
        <general ctrlrange="0 255" forcerange="-50 50" biastype="affine" gainprm="0.333" biasprm="0 -100 -10"/>
        <default class="gripper_xarm7_right_spring_link">
          <joint springref="2.62" stiffness="0.05" damping="0.00125"/>
        </default>
        <default class="gripper_xarm7_right_driver">
          <joint solreflimit="0.005" armature="0.005" damping="0.1"/>
        </default>
        <default class="gripper_xarm7_right_follower">
          <joint solreflimit="0.005"/>
        </default>
        <default class="gripper_xarm7_right_visual">
          <geom contype="0" conaffinity="0" group="2"/>
        </default>
        <default class="gripper_xarm7_right_collision">
          <geom group="3"/>
          <default class="gripper_xarm7_right_pad_box1">
            <geom size="0.015 0.002 0.0095" type="box" priority="1" friction="0.7" solref="0.004" solimp="0.95 0.99" rgba="0 0.1 0.7 1"/>
          </default>
          <default class="gripper_xarm7_right_pad_box2">
            <geom size="0.015 0.002 0.0095" type="box" priority="1" friction="0.6" solref="0.004" solimp="0.95 0.99" rgba="0 0.5 0.5 1"/>
          </default>
        </default>
      </default>
    </default>
  </default>

  <asset>
    <texture type="2d" colorspace="auto" name="grid" builtin="checker" rgb1="0.1 0.2 0.3" rgb2="0.2 0.3 0.4" width="512" height="512"/>
    <texture type="2d" colorspace="auto" name="wood" builtin="flat" rgb1="0.8 0.6 0.4" width="512" height="512"/>
    <material name="grid_mat" texture="grid" texrepeat="8 8" reflectance="0.2"/>
    <material name="wood_mat" texture="wood" rgba="0.8 0.6 0.4 1"/>
    <material name="arm_xarm7_right_white"/>
    <material name="arm_xarm7_right_gray" rgba="0.753 0.753 0.753 1"/>
    <material name="gripper_xarm7_right_white"/>
    <material name="gripper_xarm7_right_black" rgba="0.149 0.149 0.149 1"/>
    <mesh name="arm_xarm7_right_link_base" file="arm_xarm7_right_link_base.stl"/>
    <mesh name="arm_xarm7_right_link1" file="arm_xarm7_right_link1.stl"/>
    <mesh name="arm_xarm7_right_link2" file="arm_xarm7_right_link2.stl"/>
    <mesh name="arm_xarm7_right_link3" file="arm_xarm7_right_link3.stl"/>
    <mesh name="arm_xarm7_right_link4" file="arm_xarm7_right_link4.stl"/>
    <mesh name="arm_xarm7_right_link5" file="arm_xarm7_right_link5.stl"/>
    <mesh name="arm_xarm7_right_link6" file="arm_xarm7_right_link6.stl"/>
    <mesh name="arm_xarm7_right_link7" file="arm_xarm7_right_link7.stl"/>
    <mesh name="arm_xarm7_right_end_tool" file="arm_xarm7_right_end_tool.stl"/>
    <mesh name="gripper_xarm7_right_base_link" file="gripper_xarm7_right_base_link.stl"/>
    <mesh name="gripper_xarm7_right_left_outer_knuckle" file="gripper_xarm7_right_left_outer_knuckle.stl"/>
    <mesh name="gripper_xarm7_right_left_finger" file="gripper_xarm7_right_left_finger.stl"/>
    <mesh name="gripper_xarm7_right_left_inner_knuckle" file="gripper_xarm7_right_left_inner_knuckle.stl"/>
    <mesh name="gripper_xarm7_right_right_outer_knuckle" file="gripper_xarm7_right_right_outer_knuckle.stl"/>
    <mesh name="gripper_xarm7_right_right_finger" file="gripper_xarm7_right_right_finger.stl"/>
    <mesh name="gripper_xarm7_right_right_inner_knuckle" file="gripper_xarm7_right_right_inner_knuckle.stl"/>
  </asset>

  <worldbody>
    <geom name="floor" size="2 2 0.1" type="plane" material="grid_mat"/>
    <camera name="overhead" pos="-1.579 0.013 1.528" quat="0.655185 0.277907 -0.274318 -0.646723"/>
    <light name="top_light" pos="0 0 2" dir="0 0 -1" diffuse="0.8 0.8 0.8"/>
    <light name="front_light" pos="1 0 1" dir="-0.894427 0 -0.447214" diffuse="0.4 0.4 0.4"/>
    <body name="table" pos="0 0 0.4">
      <geom name="table_top" size="0.6 0.4 0.02" type="box" material="wood_mat"/>
      <geom name="leg1" size="0.03 0.2" pos="-0.5 -0.3 -0.2" type="cylinder" material="wood_mat"/>
      <geom name="leg2" size="0.03 0.2" pos="0.5 -0.3 -0.2" type="cylinder" material="wood_mat"/>
      <geom name="leg3" size="0.03 0.2" pos="-0.5 0.3 -0.2" type="cylinder" material="wood_mat"/>
      <geom name="leg4" size="0.03 0.2" pos="0.5 0.3 -0.2" type="cylinder" material="wood_mat"/>
    </body>
    <body name="robot_mount" pos="-0.5 -0.3 0.45">
      <site name="attachment_site" pos="0 0 0" size="0.02"/>
      <body name="arm_xarm7_right_link_base" childclass="arm_xarm7_right_xarm7">
        <inertial pos="-0.021131 -0.0016302 0.056488" quat="0.696843 0.20176 0.10388 0.680376" mass="0.88556" diaginertia="0.00382023 0.00335282 0.00167725"/>
        <geom material="arm_xarm7_right_white" mesh="arm_xarm7_right_link_base"/>
        <body name="arm_xarm7_right_link1" pos="0 0 0.267">
          <inertial pos="-0.0002 0.02905 -0.01233" quat="0.978953 -0.202769 -0.00441617 -0.0227264" mass="2.382" diaginertia="0.00569127 0.00533384 0.00293865"/>
          <joint name="arm_xarm7_right_joint1" class="arm_xarm7_right_size1" pos="0 0 0" axis="0 0 1"/>
          <geom material="arm_xarm7_right_white" mesh="arm_xarm7_right_link1"/>
          <body name="arm_xarm7_right_link2" quat="0.707107 -0.707107 0 0">
            <inertial pos="0.00022 -0.12856 0.01735" quat="0.50198 0.86483 -0.00778841 0.00483285" mass="1.869" diaginertia="0.00959898 0.00937717 0.00201315"/>
            <joint name="arm_xarm7_right_joint2" class="arm_xarm7_right_size1" pos="0 0 0" axis="0 0 1" range="-2.059 2.0944"/>
            <geom material="arm_xarm7_right_white" mesh="arm_xarm7_right_link2"/>
            <body name="arm_xarm7_right_link3" pos="0 -0.293 0" quat="0.707107 0.707107 0 0">
              <inertial pos="0.0466 -0.02463 -0.00768" quat="0.913819 0.289775 0.281481 -0.0416455" mass="1.6383" diaginertia="0.00351721 0.00294089 0.00195868"/>
              <joint name="arm_xarm7_right_joint3" class="arm_xarm7_right_size2" pos="0 0 0" axis="0 0 1"/>
              <geom material="arm_xarm7_right_white" mesh="arm_xarm7_right_link3"/>
              <body name="arm_xarm7_right_link4" pos="0.0525 0 0" quat="0.707107 0.707107 0 0">
                <inertial pos="0.07047 -0.11575 0.012" quat="0.422108 0.852026 -0.126025 0.282832" mass="1.7269" diaginertia="0.00657137 0.00647948 0.00186763"/>
                <joint name="arm_xarm7_right_joint4" class="arm_xarm7_right_size2" pos="0 0 0" axis="0 0 1" range="-0.19198 3.927"/>
                <geom material="arm_xarm7_right_white" mesh="arm_xarm7_right_link4"/>
                <body name="arm_xarm7_right_link5" pos="0.0775 -0.3425 0" quat="0.707107 0.707107 0 0">
                  <inertial pos="-0.00032 0.01604 -0.026" quat="0.999311 -0.0304457 0.000577067 0.0212082" mass="1.3203" diaginertia="0.00534729 0.00499076 0.0013489"/>
                  <joint name="arm_xarm7_right_joint5" class="arm_xarm7_right_size2" pos="0 0 0" axis="0 0 1"/>
                  <geom material="arm_xarm7_right_white" mesh="arm_xarm7_right_link5"/>
                  <body name="arm_xarm7_right_link6" quat="0.707107 0.707107 0 0">
                    <inertial pos="0.06469 0.03278 0.02141" quat="-0.217672 0.772419 0.16258 0.574069" mass="1.325" diaginertia="0.00245421 0.00221646 0.00107273"/>
                    <joint name="arm_xarm7_right_joint6" class="arm_xarm7_right_size3" pos="0 0 0" axis="0 0 1" range="-1.69297 3.14159"/>
                    <geom material="arm_xarm7_right_white" mesh="arm_xarm7_right_link6"/>
                    <body name="arm_xarm7_right_link7" pos="0.076 0.097 0" quat="0.707107 -0.707107 0 0">
                      <inertial pos="0 -0.00677 -0.01098" quat="0.487612 0.512088 -0.512088 0.487612" mass="0.17" diaginertia="0.000132176 9.3e-05 5.85236e-05"/>
                      <joint name="arm_xarm7_right_joint7" class="arm_xarm7_right_size3" pos="0 0 0" axis="0 0 1"/>
                      <geom material="arm_xarm7_right_gray" mesh="arm_xarm7_right_end_tool"/>
                      <site name="arm_xarm7_right_attachment_site" pos="0 0 0"/>
                      <body name="gripper_xarm7_right_xarm_gripper_base_link" childclass="gripper_xarm7_right_xarm7_hand">
                        <inertial pos="-0.00065489 -0.0018497 0.048028" quat="0.997403 -0.0717512 -0.0061836 0.000477479" mass="0.54156" diaginertia="0.000471093 0.000332307 0.000254799"/>
                        <geom material="gripper_xarm7_right_white" mesh="gripper_xarm7_right_base_link"/>
                        <body name="gripper_xarm7_right_left_outer_knuckle" pos="0 0.035 0.059098">
                          <inertial pos="0 0.021559 0.015181" quat="0.47789 0.87842 0 0" mass="0.033618" diaginertia="1.9111e-05 1.79089e-05 1.90167e-06"/>
                          <joint name="gripper_xarm7_right_left_driver_joint" class="gripper_xarm7_right_driver" pos="0 0 0" axis="1 0 0"/>
                          <geom material="gripper_xarm7_right_black" mesh="gripper_xarm7_right_left_outer_knuckle"/>
                          <body name="gripper_xarm7_right_left_finger" pos="0 0.035465 0.042039">
                            <inertial pos="0 -0.016413 0.029258" quat="0.697634 0.115353 -0.115353 0.697634" mass="0.048304" diaginertia="1.88037e-05 1.7493e-05 3.56792e-06"/>
                            <joint name="gripper_xarm7_right_left_finger_joint" class="gripper_xarm7_right_follower" pos="0 0 0" axis="-1 0 0"/>
                            <geom class="gripper_xarm7_right_visual" material="gripper_xarm7_right_black" mesh="gripper_xarm7_right_left_finger"/>
                            <geom name="gripper_xarm7_right_left_finger_pad_1" class="gripper_xarm7_right_pad_box1" pos="0 -0.024003 0.032" mass="0" material="gripper_xarm7_right_black"/>
                            <geom name="gripper_xarm7_right_left_finger_pad_2" class="gripper_xarm7_right_pad_box2" pos="0 -0.024003 0.05" mass="0" material="gripper_xarm7_right_black"/>
                          </body>
                        </body>
                        <body name="gripper_xarm7_right_left_inner_knuckle" pos="0 0.02 0.074098">
                          <inertial pos="1.86601e-06 0.0220468 0.0261335" quat="0.664139 -0.242732 0.242713 0.664146" mass="0.0230126" diaginertia="8.34216e-06 6.0949e-06 2.75601e-06"/>
                          <joint name="gripper_xarm7_right_left_inner_knuckle_joint" class="gripper_xarm7_right_spring_link" pos="0 0 0" axis="1 0 0" springref="2.62"/>
                          <geom material="gripper_xarm7_right_black" mesh="gripper_xarm7_right_left_inner_knuckle"/>
                        </body>
                        <body name="gripper_xarm7_right_right_outer_knuckle" pos="0 -0.035 0.059098">
                          <inertial pos="0 -0.021559 0.015181" quat="0.87842 0.47789 0 0" mass="0.033618" diaginertia="1.9111e-05 1.79089e-05 1.90167e-06"/>
                          <joint name="gripper_xarm7_right_right_driver_joint" class="gripper_xarm7_right_driver" pos="0 0 0" axis="-1 0 0"/>
                          <geom material="gripper_xarm7_right_black" mesh="gripper_xarm7_right_right_outer_knuckle"/>
                          <body name="gripper_xarm7_right_right_finger" pos="0 -0.035465 0.042039">
                            <inertial pos="0 0.016413 0.029258" quat="0.697634 -0.115356 0.115356 0.697634" mass="0.048304" diaginertia="1.88038e-05 1.7493e-05 3.56779e-06"/>
                            <joint name="gripper_xarm7_right_right_finger_joint" class="gripper_xarm7_right_follower" pos="0 0 0" axis="1 0 0"/>
                            <geom class="gripper_xarm7_right_visual" material="gripper_xarm7_right_black" mesh="gripper_xarm7_right_right_finger"/>
                            <geom name="gripper_xarm7_right_right_finger_pad_1" class="gripper_xarm7_right_pad_box1" pos="0 0.024003 0.032" mass="0" material="gripper_xarm7_right_black"/>
                            <geom name="gripper_xarm7_right_right_finger_pad_2" class="gripper_xarm7_right_pad_box2" pos="0 0.024003 0.05" mass="0" material="gripper_xarm7_right_black"/>
                          </body>
                        </body>
                        <body name="gripper_xarm7_right_right_inner_knuckle" pos="0 -0.02 0.074098">
                          <inertial pos="1.866e-06 -0.022047 0.026133" quat="0.66415 0.242702 -0.242721 0.664144" mass="0.023013" diaginertia="8.34209e-06 6.0949e-06 2.75601e-06"/>
                          <joint name="gripper_xarm7_right_right_inner_knuckle_joint" class="gripper_xarm7_right_spring_link" pos="0 0 0" axis="-1 0 0" springref="2.62"/>
                          <geom material="gripper_xarm7_right_black" mesh="gripper_xarm7_right_right_inner_knuckle"/>
                        </body>
                      </body>
                    </body>
                  </body>
                </body>
              </body>
            </body>
          </body>
        </body>
      </body>
    </body>
    <body name="box" pos="-0.1 -0.1 0.45">
      <joint name="red_box_joint" type="free" damping="0.001"/>
      <geom name="red_box" size="0.02 0.04 0.02" type="box" condim="4" friction="1 0.05" solref="0.01" solimp="0.95 0.99" mass="0.1" rgba="1 0 0 1"/>
      <site name="box_site" pos="0 0 0" size="0.01" rgba="1 1 1 0"/>
    </body>
    <body name="rectangular_bin" pos="0.1 0.1 0.42">
      <geom name="bottom" size="0.06 0.06 0.005" pos="0 0 0.005" type="box" rgba="0.8 0.8 0.8 1"/>
      <geom name="back_wall" size="0.06 0.005 0.02" pos="0 -0.055 0.03" type="box" rgba="0.8 0.8 0.8 1"/>
      <geom name="front_wall" size="0.06 0.005 0.02" pos="0 0.055 0.03" type="box" rgba="0.8 0.8 0.8 1"/>
      <geom name="left_wall" size="0.005 0.05 0.02" pos="-0.055 0 0.03" type="box" rgba="0.8 0.8 0.8 1"/>
      <geom name="right_wall" size="0.005 0.05 0.02" pos="0.055 0 0.03" type="box" rgba="0.8 0.8 0.8 1"/>
      <site name="bin_site" pos="0 0 0.05" size="0.02" rgba="0 1 0 0.3"/>
    </body>
  </worldbody>

  <contact>
    <exclude body1="gripper_xarm7_right_xarm_gripper_base_link" body2="gripper_xarm7_right_left_outer_knuckle"/>
    <exclude body1="gripper_xarm7_right_xarm_gripper_base_link" body2="gripper_xarm7_right_left_inner_knuckle"/>
    <exclude body1="gripper_xarm7_right_xarm_gripper_base_link" body2="gripper_xarm7_right_right_outer_knuckle"/>
    <exclude body1="gripper_xarm7_right_xarm_gripper_base_link" body2="gripper_xarm7_right_right_inner_knuckle"/>
    <exclude body1="gripper_xarm7_right_left_outer_knuckle" body2="gripper_xarm7_right_left_inner_knuckle"/>
    <exclude body1="gripper_xarm7_right_left_finger" body2="gripper_xarm7_right_left_inner_knuckle"/>
    <exclude body1="gripper_xarm7_right_right_outer_knuckle" body2="gripper_xarm7_right_right_inner_knuckle"/>
    <exclude body1="gripper_xarm7_right_right_finger" body2="gripper_xarm7_right_right_inner_knuckle"/>
  </contact>

  <equality>
    <connect body1="gripper_xarm7_right_right_finger" body2="gripper_xarm7_right_right_inner_knuckle" anchor="0 0.015 0.015" solref="0.005"/>
    <connect body1="gripper_xarm7_right_left_finger" body2="gripper_xarm7_right_left_inner_knuckle" anchor="0 -0.015 0.015" solref="0.005"/>
    <joint joint1="gripper_xarm7_right_left_driver_joint" joint2="gripper_xarm7_right_right_driver_joint" polycoef="0 1 0 0 0" solref="0.005"/>
  </equality>

  <tendon>
    <fixed name="gripper_xarm7_right_split">
      <joint joint="gripper_xarm7_right_right_driver_joint" coef="0.5"/>
      <joint joint="gripper_xarm7_right_left_driver_joint" coef="0.5"/>
    </fixed>
  </tendon>

  <actuator>
    <general name="arm_xarm7_right_act1" class="arm_xarm7_right_size1" joint="arm_xarm7_right_joint1"/>
    <general name="arm_xarm7_right_act2" class="arm_xarm7_right_size1" joint="arm_xarm7_right_joint2" ctrlrange="-2.059 2.0944"/>
    <general name="arm_xarm7_right_act3" class="arm_xarm7_right_size2" joint="arm_xarm7_right_joint3"/>
    <general name="arm_xarm7_right_act4" class="arm_xarm7_right_size2" joint="arm_xarm7_right_joint4" ctrlrange="-0.19198 3.927"/>
    <general name="arm_xarm7_right_act5" class="arm_xarm7_right_size2" joint="arm_xarm7_right_joint5"/>
    <general name="arm_xarm7_right_act6" class="arm_xarm7_right_size3" joint="arm_xarm7_right_joint6" ctrlrange="-1.69297 3.14159"/>
    <general name="arm_xarm7_right_act7" class="arm_xarm7_right_size3" joint="arm_xarm7_right_joint7"/>
    <general name="gripper_xarm7_right_fingers_actuator" class="gripper_xarm7_right_xarm7_hand" tendon="gripper_xarm7_right_split"/>
  </actuator>

  <keyframe>
    <key name="arm_xarm7_right_home" qpos="0 -0.247 0 0.909 0 1.15644 0 0 0 0 0 0 0 -0.1 -0.1 0.45 1 0 0 0" ctrl="0 -0.247 0 0.909 0 1.15644 0 0"/>
  </keyframe>
</mujoco>
